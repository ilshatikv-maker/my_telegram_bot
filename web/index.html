<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelMate</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }
        
        body {
            background: var(--tg-theme-bg-color, #f5f5f5);
            color: var(--tg-theme-text-color, #000000);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            width: 100%;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 32px;
            color: var(--tg-theme-button-color, #2e7d32);
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: var(--tg-theme-hint-color, #666);
            font-size: 16px;
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .menu-item {
            background: var(--tg-theme-secondary-bg-color, #ffffff);
            border-radius: 15px;
            padding: 20px 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
            border: 1px solid var(--tg-theme-section-separator-color, #e0e0e0);
        }
        
        .menu-item:active {
            transform: scale(0.95);
        }
        
        .menu-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }
        
        .menu-title {
            font-size: 16px;
            font-weight: 500;
            color: var(--tg-theme-text-color, #000000);
        }
        
        .section {
            background: var(--tg-theme-secondary-bg-color, #ffffff);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--tg-theme-section-separator-color, #e0e0e0);
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--tg-theme-text-color, #000000);
        }
        
        .country-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .country-btn {
            background: var(--tg-theme-button-color, #2e7d32);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            border-radius: 10px;
            padding: 12px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: opacity 0.2s;
        }
        
        .country-btn:active {
            opacity: 0.8;
        }
        
        .back-btn {
            background: var(--tg-theme-secondary-bg-color, #f0f0f0);
            color: var(--tg-theme-text-color, #000000);
            border: 1px solid var(--tg-theme-section-separator-color, #e0e0e0);
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            font-size: 16px;
            margin-top: 15px;
            cursor: pointer;
        }
        
        .hidden {
            display: none;
        }
        
        .welcome-text {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: var(--tg-theme-secondary-bg-color, #ffffff);
            border-radius: 15px;
            border: 1px solid var(--tg-theme-section-separator-color, #e0e0e0);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="mainScreen">
            <header>
                <h1>üåç TravelMate</h1>
                <div class="subtitle">–¢–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–∏–¥</div>
            </header>
            
            <div class="welcome-text">
                –í—ã–±–µ—Ä–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ–ª—É—á–∏ —Å–æ–≤–µ—Ç—ã –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è!
            </div>
            
            <div class="menu-grid">
                <div class="menu-item" onclick="showCountries()">
                    <div class="menu-icon">‚úàÔ∏è</div>
                    <div class="menu-title">–°—Ç—Ä–∞–Ω—ã</div>
                </div>
                <div class="menu-item" onclick="showTips()">
                    <div class="menu-icon">üí°</div>
                    <div class="menu-title">–°–æ–≤–µ—Ç—ã</div>
                </div>
                <div class="menu-item" onclick="showWeather()">
                    <div class="menu-icon">üå§Ô∏è</div>
                    <div class="menu-title">–ü–æ–≥–æ–¥–∞</div>
                </div>
                <div class="menu-item" onclick="showCurrency()">
                    <div class="menu-icon">üíµ</div>
                    <div class="menu-title">–í–∞–ª—é—Ç–∞</div>
                </div>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞–Ω -->
        <div id="countriesScreen" class="hidden">
            <div class="section">
                <div class="section-title">‚úàÔ∏è –í—ã–±–µ—Ä–∏ —Å—Ç—Ä–∞–Ω—É</div>
                <div class="country-list">
                    <button class="country-btn" onclick="selectCountry('–¢—É—Ä—Ü–∏—è')">üáπüá∑ –¢—É—Ä—Ü–∏—è</button>
                    <button class="country-btn" onclick="selectCountry('–¢–∞–∏–ª–∞–Ω–¥')">üáπüá≠ –¢–∞–∏–ª–∞–Ω–¥</button>
                    <button class="country-btn" onclick="selectCountry('–ò—Ç–∞–ª–∏—è')">üáÆüáπ –ò—Ç–∞–ª–∏—è</button>
                    <button class="country-btn" onclick="selectCountry('–ò—Å–ø–∞–Ω–∏—è')">üá™üá∏ –ò—Å–ø–∞–Ω–∏—è</button>
                    <button class="country-btn" onclick="selectCountry('–û–ê–≠')">üá¶üá™ –û–ê–≠</button>
                    <button class="country-btn" onclick="selectCountry('–ì—Ä–µ—Ü–∏—è')">üá¨üá∑ –ì—Ä–µ—Ü–∏—è</button>
                </div>
                <button class="back-btn" onclick="showMainScreen()">‚Üê –ù–∞–∑–∞–¥</button>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω —Å–æ–≤–µ—Ç–æ–≤ -->
        <div id="tipsScreen" class="hidden">
            <div class="section">
                <div class="section-title">üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π</div>
                <div style="margin-bottom: 15px;">
                    <button class="country-btn" onclick="sendTip('visa')">üìÑ –í–∏–∑–∞</button>
                    <button class="country-btn" onclick="sendTip('insurance')">ü©∫ –°—Ç—Ä–∞—Ö–æ–≤–∫–∞</button>
                    <button class="country-btn" onclick="sendTip('transport')">üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</button>
                    <button class="country-btn" onclick="sendTip('hotels')">üè® –û—Ç–µ–ª–∏</button>
                </div>
                <button class="back-btn" onclick="showMainScreen()">‚Üê –ù–∞–∑–∞–¥</button>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –ø–æ–≥–æ–¥—ã -->
        <div id="weatherScreen" class="hidden">
            <div class="section">
                <div class="section-title">üå§Ô∏è –ü–æ–≥–æ–¥–∞</div>
                <div class="country-list">
                    <button class="country-btn" onclick="getWeather('–¢—É—Ä—Ü–∏—è')">üáπüá∑ –¢—É—Ä—Ü–∏—è</button>
                    <button class="country-btn" onclick="getWeather('–¢–∞–∏–ª–∞–Ω–¥')">üáπüá≠ –¢–∞–∏–ª–∞–Ω–¥</button>
                    <button class="country-btn" onclick="getWeather('–ò—Ç–∞–ª–∏—è')">üáÆüáπ –ò—Ç–∞–ª–∏—è</button>
                    <button class="country-btn" onclick="getWeather('–ò—Å–ø–∞–Ω–∏—è')">üá™üá∏ –ò—Å–ø–∞–Ω–∏—è</button>
                </div>
                <button class="back-btn" onclick="showMainScreen()">‚Üê –ù–∞–∑–∞–¥</button>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –≤–∞–ª—é—Ç -->
        <div id="currencyScreen" class="hidden">
            <div class="section">
                <div class="section-title">üíµ –ö—É—Ä—Å –≤–∞–ª—é—Ç</div>
                <div class="country-list">
                    <button class="country-btn" onclick="getCurrency('USD')">üá∫üá∏ USD</button>
                    <button class="country-btn" onclick="getCurrency('EUR')">üá™üá∫ EUR</button>
                    <button class="country-btn" onclick="getCurrency('TRY')">üáπüá∑ TRY</button>
                    <button class="country-btn" onclick="getCurrency('THB')">üáπüá≠ THB</button>
                </div>
                <button class="back-btn" onclick="showMainScreen()">‚Üê –ù–∞–∑–∞–¥</button>
            </div>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        tg.expand();
        tg.ready();
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
        tg.MainButton.setText("–ó–∞–∫—Ä—ã—Ç—å");
        tg.MainButton.onClick(function() {
            tg.close();
        });
        
        // –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function showMainScreen() {
            document.getElementById('mainScreen').classList.remove('hidden');
            document.getElementById('countriesScreen').classList.add('hidden');
            document.getElementById('tipsScreen').classList.add('hidden');
            document.getElementById('weatherScreen').classList.add('hidden');
            document.getElementById('currencyScreen').classList.add('hidden');
            tg.MainButton.hide();
        }
        
        function showCountries() {
            document.getElementById('mainScreen').classList.add('hidden');
            document.getElementById('countriesScreen').classList.remove('hidden');
            tg.MainButton.show();
        }
        
        function showTips() {
            document.getElementById('mainScreen').classList.add('hidden');
            document.getElementById('tipsScreen').classList.remove('hidden');
            tg.MainButton.show();
        }
        
        function showWeather() {
            document.getElementById('mainScreen').classList.add('hidden');
            document.getElementById('weatherScreen').classList.remove('hidden');
            tg.MainButton.show();
        }
        
        function showCurrency() {
            document.getElementById('mainScreen').classList.add('hidden');
            document.getElementById('currencyScreen').classList.remove('hidden');
            tg.MainButton.show();
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
        function selectCountry(country) {
            tg.sendData(JSON.stringify({
                action: 'country',
                value: country
            }));
            tg.close();
        }
        
        function sendTip(tip) {
            tg.sendData(JSON.stringify({
                action: 'tip',
                value: tip
            }));
            tg.close();
        }
        
        function getWeather(country) {
            tg.sendData(JSON.stringify({
                action: 'weather',
                value: country
            }));
            tg.close();
        }
        
        function getCurrency(currency) {
            tg.sendData(JSON.stringify({
                action: 'currency',
                value: currency
            }));
            tg.close();
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        showMainScreen();
    </script>
</body>
</html>
